<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Test</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1e1e1e;
            color: #d4d4d4;
        }
        .log { padding: 5px; margin: 5px 0; background: #2d2d2d; border-radius: 4px; }
        .success { color: #4ec9b0; }
        .error { color: #f48771; }
    </style>
</head>
<body>
    <h1>üîç Simple Test</h1>
    <div id="logs"></div>

    <script>
        function log(msg, type = 'info') {
            const div = document.createElement('div');
            div.className = `log ${type}`;
            div.textContent = msg;
            document.getElementById('logs').appendChild(div);
            console.log(msg);
        }

        log('1. Loading React...');
    </script>

    <!-- Load Chat Widget (React ƒë√£ ƒë∆∞·ª£c bundle v√†o) -->
    <script>
        log('2. Loading chat widget (with bundled React)...');
    </script>
    <link rel="stylesheet" href="./dist/chat-widget.css">
    <script src="./dist/chat-widget.iife.js"></script>
    <script>
        setTimeout(() => {
            log('5. Chat widget loaded');
            log('   typeof window.initChatWidget: ' + typeof window.initChatWidget, typeof window.initChatWidget === 'function' ? 'success' : 'error');
            
            if (typeof window.initChatWidget === 'function') {
                log('6. Initializing widget...', 'success');
                try {
                    window.initChatWidget({
                        apiUrl: 'http://192.168.1.29/v1/chat-messages',
                        apiKey: 'app-oNt6XuEFNAXf8L41avMPJkTD',
                        language: 'vi',
                        userId: 'BaNaNe'
                    });
                    log('7. Widget initialized!', 'success');
                    log('üëâ Check bottom-right corner', 'success');
                } catch (error) {
                    log('ERROR: ' + error.message, 'error');
                    console.error(error);
                }
            } else {
                log('ERROR: initChatWidget not found', 'error');
            }
        }, 500);
    </script>
</body>
</html>
